---
layout: default
---
<script type="text/javascript">
  function show_hide(selector_show, selector_hide) {
      if (selector_show.length>0){
          elements = document.querySelectorAll(selector_show);
          for (let i = 0; i < elements.length; i++){
              elements[i].style.display = 'block';
          }
      }
      if (selector_hide.length>0){
          elements = document.querySelectorAll(selector_hide);
          for (let i = 0; i < elements.length; i++){
              elements[i].style.display = 'none';
          }
      }    
  }
</script>

<div class="home">
  {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}

  {{ content | markdownify }}

  <button onclick="show_hide('.story','.notebook, .post')">No Ficción - Simples</button> 
  <button onclick="show_hide('.notebook','.story, .post')">No Ficción - Notebooks</button>
  <button onclick="show_hide('.story, .notebook, .post','')">Ficción</button>
  <button onclick="show_hide('.post','.notebook, .story')">Todo</button>

  <!-- Assign all posts to variable -->
  {% assign rawposts = site.posts %}

  <!-- Hide posts if front matter flag hide:true -->
  {% assign posts = ''|split:'' %}
  {% for post in rawposts %}
    {% if post.hide != true %}
        {% if post.layout != "book-review" %}
          {% assign posts = posts|push:post%}
        {% endif %}
    {% endif %}
  {% endfor %}

  <!-- Sort posts by rank, then date -->
  {% assign grouped_posts = posts | group_by: "sticky_rank" | sort: "name", "last" %}
  {% assign sticky_posts = ''|split:'' %}
  {% assign non_sticky_posts = '' | split:'' %}

 
  {% for gp in grouped_posts %}
    {%- if gp.name == "" -%}
      {% assign non_sticky_posts = gp.items | sort: "date" | reverse %}
    {%- else %}
      {% assign sticky_posts = sticky_posts | concat: gp.items %}
    {%- endif -%}
  {% endfor %}

   <!-- Assemble final sorted posts array -->
  {% assign sticky_posts = sticky_posts | sort: "sticky_rank", "last" %}
  {% assign posts = sticky_posts | concat: non_sticky_posts %}

  {%- if posts.size > 0 -%}
    {%- if page.list_title -%}
      <h2 class="post-list-heading">{{ page.list_title }}</h2>
    {%- endif -%}
    <ul class="post-list">
      {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
      {%- for post in posts -%}
      <li class={{post.layout}}>
        {%- if site.show_image -%}
            {%- include post_list_image_card.html -%}
        {% else %}
            {%- include post_list.html -%}
        {%- endif -%}
      </li>
      {%- endfor -%}
    </ul>

  {%- endif -%}

</div>